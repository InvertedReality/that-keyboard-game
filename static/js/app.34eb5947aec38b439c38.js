webpackJsonp([1],{"1hv3":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Game")],1)},s=[],n={render:r,staticRenderFns:s};t.a=n},"2EAo":function(e,t,a){"use strict";a.d(t,"d",function(){return r}),a.d(t,"b",function(){return s}),a.d(t,"c",function(){return n}),a.d(t,"a",function(){return l});var r={IDLE:"idle",PLAYING:"playing",DONE:"done"},s={a:0,s:1,d:2,f:3},n={k:0,l:1,";":2,":":2,"'":3,'"':3},l=20},"2q7Y":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["player-keys","player-keys--"+e.playerId]},[a("transition-group",{staticClass:"keys-container",attrs:{name:"key-row",tag:"div"}},e._l(e.player.keys,function(t,r){return a("div",{key:t.id,staticClass:"key-row"},e._l([0,1,2,3],function(s){return a("div",{class:e.keyClasses(s,t,r)},[a("div",{staticClass:"key-well"},[a("div",{staticClass:"key-button"},[a("div",{staticClass:"key-button-top"})])])])}))}))],1)},s=[],n={render:r,staticRenderFns:s};t.a=n},"7dPe":function(e,t,a){"use strict";var r=a("2EAo");t.a={props:{playerId:{type:Number,required:!0}},computed:{timeLeft:function(){return this.$store.state.players[this.playerId].timeLeft},percentProgress:function(){return Math.round(this.timeLeft/r.a*100)}}}},"8oAn":function(e,t,a){"use strict";function r(){return Math.random().toString(36).slice(2)+Date.now().toString(36)}t.a=r},DVMW:function(e,t,a){"use strict";t.a={props:{playerId:{type:Number,required:!0}},computed:{player:function(){return this.$store.state.players[this.playerId]}},methods:{keyClasses:function(e,t,a){var r=0===a&&this.player.blockedKey===e,s=e===t.key&&!r;return{key:!0,"key--current":s,"key--active":s&&0===a,"key--missed":r}}}}},EdFc:function(e,t){},GzMj:function(e,t,a){"use strict";t.a=[["e4","d4","c4","d4","e4","e4","e4","d4","d4","d4","e4","g4","g4","e4","d4","c4","d4","e4","e4","e4","e4","d4","d4","e4","d4","c4","g3","c4","d4"],["c4","c4","g4","g4","a4","a4","g4","f4","f4","e4","e4","d4","d4","c4","g4","g4","f4","f4","e4","e4","d4","g4","g4","f4","f4","e4","e4","d4","c4","c4","g4","g4","a4","a4","g4","f4","f4","e4","e4","d4","d4","c4","g3"],["c4","d4","e4","c4","c4","d4","e4","c4","e4","f4","g4","e4","f4","g4","g4","a4","g4","f4","e4","c4","g4","a4","g4","f4","e4","c4","c4","g3","c4","c4","g3","c4"],["c4","d4","e4","f4","e4","d4","c4","e4","f4","g4","a4","g4","f4","e4","c4","c4","c4","c4","c4","c4","d4","d4","e4","e4","f4","f4","e4","d4","c4"],["c4","d4","e4","c4","d4","e4","f4","e4","d4","f4","e4","d4","b3","c4","d4","b3","c4","d4","e4","c4","e4","c4","c4","d4","e4","c4","d4","e4","f4","e4","e4","d4","f4","e4","e4","d4","b3","d4","b3","d4","e4","c4","e4","c4"]]},IcnI:function(e,t,a){"use strict";function r(){return{id:Object(y.a)(),key:Math.floor(4*Math.random())}}function s(e,t){return t?!!e.players[t]||(console.error(t+" is not a valid player"),!1):(console.error(t+" is not defined"),!1)}var n=a("fZjL"),l=a.n(n),i=a("7+uW"),c=a("SEoV"),y=a("8oAn"),o=a("2EAo");t.a={state:function(){return{players:{}}},mutations:{initPlayer:function(e,t){var a=t.playerId;i.a.set(e.players,""+a,{state:o.d.IDLE,keys:Array(7).join().split(",").map(r),idlePlayingIntervalId:null,blockedKey:null,blockedTimerId:null,timeLeft:0,timeLeftIntervalId:null,keysScored:0,leaderboard:[]})},updatePlayerPlayState:function(e,t){var a=t.playerId,r=t.state;e.players[a].state=r},startPlayerIdlePlaying:function(e,t){var a=t.playerId,r=t.intervalId;e.players[a].idlePlayingIntervalId=r},stopPlayerIdlePlaying:function(e,t){var a=t.playerId;e.players[a].idlePlayingIntervalId=null},setPlayerTimeLeft:function(e,t){var a=t.playerId,r=t.timeLeft;e.players[a].timeLeft=r},startPlayerTimeLeft:function(e,t){var a=t.playerId,r=t.timerId;e.players[a].timeLeftIntervalId=r},stopPlayerTimeLeft:function(e,t){var a=t.playerId;e.players[a].timeLeftIntervalId=null},decrementPlayerTimeLeft:function(e,t){var a=t.playerId;e.players[a].timeLeft-=1},incrementPlayerKeysScored:function(e,t){var a=t.playerId;e.players[a].keysScored+=1},rotatePlayerKeys:function(e,t){var a=t.playerId,s=e.players[a],n=s.keys.slice();n.shift(),n.push(r()),s.keys=n},blockPlayerWithKey:function(e,t){var a=t.playerId,r=t.key,s=t.timerId,n=e.players[a];n.blockedKey=r,n.blockedTimerId=s},unblockPlayer:function(e,t){var a=t.playerId,r=e.players[a];r.blockedKey=null,r.blockedTimerId=null}},actions:{initPlayer:function(e,t){(0,e.commit)("initPlayer",{playerId:t.playerId})},idlePlayer:function(e,t){var a=e.state,r=e.commit,n=e.dispatch,l=t.playerId;s(a,l)&&(r("updatePlayerPlayState",{playerId:l,state:o.d.IDLE}),r("startPlayerIdlePlaying",{playerId:l,intervalId:setInterval(function(){Math.random()<.9||n("advanceIdlePlayer",{playerId:l})},200)}),Object(c.b)(l))},beginPlayerPlay:function(e,t){var a=e.state,r=e.commit,n=e.dispatch,l=t.playerId;s(a,l)&&(null!=a.players[l].idlePlayingIntervalId&&clearInterval(a.players[l].idlePlayingIntervalId),n("initPlayer",{playerId:l}),r("stopPlayerIdlePlaying",{playerId:l}),r("updatePlayerPlayState",{playerId:l,state:o.d.PLAYING}),r("setPlayerTimeLeft",{playerId:l,timeLeft:o.a}),Object(c.b)(l))},playerHitKey:function(e,t){var a=e.state,r=e.commit,n=e.dispatch,l=t.playerId,i=t.key;if(s(a,l)){var c=a.players[l];switch(c.state){case o.d.IDLE:return void n("beginPlayerPlay",{playerId:l});case o.d.PLAYING:break;case o.d.DONE:return;default:return void console.error('Received key press in invalid player state "'+c.state+'"')}if(null!=c.blockedTimerId)return void console.log("Player tried to hit key "+i+" while blocked!");if(null==c.timeLeftIntervalId){var y=setInterval(function(){n("tickPlayerTimeLeft",{playerId:l})},1e3);r("startPlayerTimeLeft",{playerId:l,timerId:y})}c.keys[0].key===i?n("advancePlayer",{playerId:l}):n("blockPlayer",{playerId:l,key:i})}},tickPlayerTimeLeft:function(e,t){var a=e.state,r=e.commit,n=e.dispatch,l=t.playerId;if(s(a,l)){a.players[l].timeLeft>=0?r("decrementPlayerTimeLeft",{playerId:l}):n("endPlayerPlay",{playerId:l})}},advanceIdlePlayer:function(e,t){var a=e.state,r=e.dispatch,n=t.playerId;if(s(a,n)){l()(a.players).map(function(e){return a.players[e]}).some(function(e){return e.state!==o.d.IDLE})||r("advancePlayer",{playerId:n})}},advancePlayer:function(e,t){var a=e.state,r=e.commit,n=t.playerId;s(a,n)&&(r("rotatePlayerKeys",{playerId:n}),a.players[n].state===o.d.PLAYING&&r("incrementPlayerKeysScored",{playerId:n}),Object(c.c)(n))},blockPlayer:function(e,t){var a=e.state,r=e.commit,n=e.dispatch,l=t.playerId,i=t.key;if(s(a,l)){var c=setTimeout(function(){n("unblockPlayer",{playerId:l})},2e3);r("blockPlayerWithKey",{playerId:l,key:i,timerId:c})}},unblockPlayer:function(e,t){var a=e.state,r=e.commit,n=t.playerId;s(a,n)&&null!=a.players[n].blockedTimerId&&(clearTimeout(a.players[n].blockedTimerId),r("unblockPlayer",{playerId:n}))},endPlayerPlay:function(e,t){var a=e.state,r=e.commit,n=e.dispatch,l=t.playerId;if(s(a,l)){var i=a.players[l];n("unblockPlayer",{playerId:l}),r("updatePlayerPlayState",{playerId:l,state:o.d.DONE}),null!=i.timeLeftIntervalId&&(clearInterval(i.timeLeftIntervalId),r("stopPlayerTimeLeft",{playerId:l})),setTimeout(function(){n("initPlayer",{playerId:l}),n("idlePlayer",{playerId:l})},1e4)}}}}},LPuy:function(e,t){},M93x:function(e,t,a){"use strict";function r(e){a("EdFc")}var s=a("xJD8"),n=a("1hv3"),l=a("VU/8"),i=r,c=l(s.a,n.a,!1,i,null,null);t.a=c.exports},MhnA:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),s=a("NYxO"),n=a("IcnI"),l=a("M93x"),i=a("SEoV");r.a.config.productionTip=!1,r.a.use(s.a);var c=new s.a.Store(n.a);c.dispatch("initPlayer",{playerId:"0"}),c.dispatch("initPlayer",{playerId:"1"}),Object(i.a)("0"),Object(i.a)("1"),new r.a({el:"#app",store:c,template:"<App/>",components:{App:l.a}})},RcUN:function(e,t,a){"use strict";var r=a("2EAo"),s=a("aB1I"),n=a("x6xy"),l=a("bUmd");t.a={data:function(){return{keyDownHandler:null}},mounted:function(){var e=this;this.keyDownHandler=function(t){var a=void 0;if(t.key)a=t.key.toLowerCase();else{if(!t.keyCode)return void console.log("Could not process keydown event!");a=String.fromCharCode(t.keyCode).toLowerCase()}null!=r.b[a]?e.handlePlayerKeyPress("0",r.b[a]):null!=r.c[a]&&e.handlePlayerKeyPress("1",r.c[a])},document.addEventListener("keydown",this.keyDownHandler),this.$store.dispatch("idlePlayer",{playerId:"0"}),this.$store.dispatch("idlePlayer",{playerId:"1"})},beforeDestroy:function(){document.removeEventListener("keydown",this.keyDownHandler)},methods:{handlePlayerKeyPress:function(e,t){this.$store.dispatch("playerHitKey",{playerId:e,key:t})},isPlayerPlaying:function(e){switch(e){case r.d.PLAYING:case r.d.DONE:return!0;default:return!1}}},computed:{player0IsPlaying:function(){return this.isPlayerPlaying(this.$store.state.players[0].state)},player1IsPlaying:function(){return this.isPlayerPlaying(this.$store.state.players[1].state)}},components:{PlayerKeys:s.a,PlayerTimer:n.a,PlayerOverlays:l.a}}},SEoV:function(e,t,a){"use strict";function r(e){return e[Math.floor(Math.random()*e.length)]}function s(e){return e.push(e.shift()),e}function n(e){var t=f[e];return t||(console.warn('Cannot get player stuff for player "'+e+'"!'),null)}function l(e){var t={};f[e]=t,t.synth=new o.a(2,u.a),t.synth.toMaster(),t.synth.set({oscillator:{type:"fatsawtooth"}}),t.tune=r(p.a)}function i(e){var t=n(e);t&&(t.tune=r(p.a))}function c(e){var t=n(e);t&&(t.synth.triggerAttackRelease(t.tune[0],.25),s(t.tune))}t.a=l,t.b=i,t.c=c;var y=a("Tq0z"),o=a.n(y),d=a("ikjC"),u=a.n(d),p=a("GzMj"),f={}},UP59:function(e,t){},aB1I:function(e,t,a){"use strict";function r(e){a("LPuy")}var s=a("DVMW"),n=a("2q7Y"),l=a("VU/8"),i=r,c=l(s.a,n.a,!1,i,"data-v-b7761b2a",null);t.a=c.exports},bUmd:function(e,t,a){"use strict";function r(e){a("MhnA")}var s=a("ixmw"),n=a("c98P"),l=a("VU/8"),i=r,c=l(s.a,n.a,!1,i,"data-v-a9fc5c5c",null);t.a=c.exports},c98P:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.showIdle?a("div",{staticClass:"overlay idle"},[e._m(0),e._v(" "),a("div",{staticClass:"idle__instructions"},[e._v("\n      Press "),0===e.playerId?a("span",{staticClass:"player-0-keys"},[a("span",{staticClass:"key"},[e._v("A")]),e._v(" "),a("span",{staticClass:"key"},[e._v("S")]),e._v(" "),a("span",{staticClass:"key"},[e._v("D")]),e._v("\n        or\n        "),a("span",{staticClass:"key"},[e._v("F")])]):e._e(),1===e.playerId?a("span",{staticClass:"player-1-keys"},[a("span",{staticClass:"key"},[e._v("K")]),e._v(" "),a("span",{staticClass:"key"},[e._v("L")]),e._v(" "),a("span",{staticClass:"key"},[e._v(";")]),e._v("\n        or\n        "),a("span",{staticClass:"key"},[e._v("'")])]):e._e(),e._v(" to begin!\n    ")])]):e._e(),e._v(" "),e.showLastScore?a("div",{staticClass:"overlay last-score"},[a("div",{class:["last-score__message",e.lastScoreMessageClass]},[a("h1",{class:e.lastScoreMessageClass},[e._v(e._s(e.lastScoreMessage))])]),e._v(" "),a("div",{staticClass:"last-score__score"},[a("h2",[e._v("You pressed "+e._s(e.lastScore)+" keys!")])])]):e._e()])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"idle__title"},[a("h1",[e._v("That Keyboard Game!")]),e._v(" "),a("h2",[e._v("Annoy your coworkers while wasting time!")])])}],n={render:r,staticRenderFns:s};t.a=n},ixmw:function(e,t,a){"use strict";var r=a("2EAo"),s=[{score:80,message:"YOU GOT THE T$ SKILLS"},{score:60,message:"Ain't you just Big Boss Texas"},{score:40,message:"Joe sometimes gets on the leaderboard too"},{score:20,message:"Congratulations on not being terrible!"},{score:0,message:"God you suck."}];t.a={props:{playerId:{type:Number,require:!0}},computed:{player:function(){return this.$store.state.players[this.playerId]},showIdle:function(){return this.player.state===r.d.IDLE},showLastScore:function(){return this.player.state===r.d.DONE},lastScore:function(){return this.player.keysScored},lastScoreMessage:function(){var e=this.lastScore;return s.find(function(t){return e>=t.score}).message},lastScoreMessageClass:function(){var e=this.lastScore;return"last-score__message--amazement-"+(s.length-s.findIndex(function(t){return e>=t.score})-1)}}}},"kO/r":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["player-timer","player-timer--"+e.playerId]},[a("div",{staticClass:"remaining",style:{height:e.percentProgress+"%"}})])},s=[],n={render:r,staticRenderFns:s};t.a=n},llZc:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"game"},[a("div",{staticClass:"player-container"},[a("div",{staticClass:"player-play-items"},[e.player0IsPlaying?a("PlayerKeys",{key:"human",staticClass:"keys",attrs:{playerId:0}}):e._e(),e._v(" "),e.player0IsPlaying?e._e():a("PlayerKeys",{key:"demo",staticClass:"keys",attrs:{playerId:0}}),e._v(" "),a("PlayerTimer",{staticClass:"timer",attrs:{playerId:0}})],1),e._v(" "),a("PlayerOverlays",{staticClass:"player-overlays",attrs:{playerId:0}})],1),e._v(" "),a("div",{staticClass:"player-container"},[a("div",{staticClass:"player-play-items"},[a("PlayerTimer",{staticClass:"timer",attrs:{playerId:1}}),e._v(" "),e.player1IsPlaying?a("PlayerKeys",{key:"human",staticClass:"keys",attrs:{playerId:1}}):e._e(),e._v(" "),e.player1IsPlaying?e._e():a("PlayerKeys",{key:"demo",staticClass:"keys",attrs:{playerId:1}})],1),e._v(" "),a("PlayerOverlays",{staticClass:"player-overlays",attrs:{playerId:1}})],1)])},s=[],n={render:r,staticRenderFns:s};t.a=n},ly1A:function(e,t){},tZZY:function(e,t,a){"use strict";function r(e){a("UP59")}var s=a("RcUN"),n=a("llZc"),l=a("VU/8"),i=r,c=l(s.a,n.a,!1,i,"data-v-7c8c5b30",null);t.a=c.exports},x6xy:function(e,t,a){"use strict";function r(e){a("ly1A")}var s=a("7dPe"),n=a("kO/r"),l=a("VU/8"),i=r,c=l(s.a,n.a,!1,i,"data-v-31c490f0",null);t.a=c.exports},xJD8:function(e,t,a){"use strict";var r=a("tZZY");t.a={name:"app",components:{Game:r.a}}}},["NHnr"]);
//# sourceMappingURL=app.34eb5947aec38b439c38.js.map